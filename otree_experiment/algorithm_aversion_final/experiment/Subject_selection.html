{{ block title }}

    Product Selection

{{ endblock }}

{{ block content }}

    <style>
        * {
        box-sizing: border-box;
        }
        .column {
        float: left;
        width: 33.33%;
        padding: 5px;
        }
        /* Clearfix (clear floats) */
        .row::after {
        content: "";
        clear: both;
        display: table;
        }
        input[type=radio] {
        transform: scale(1.5);
        margin:10px;
        }


    </style>
    
    <p>Round {{player.round_number}} out of {{C.NUM_ROUNDS}} <br> Total payoff: {{participant.total_payoff|to2}} <br> Previous selection: {{previous_choice}}</p>
    
    <p> Below you find three products of different qualities. You must decide for one of them. 
       The product quality is associated with higher probabilities of receiving a payoff. <u> Please choose your prefered option:</u> 
    </p>
    
    <br>
    <div class="row">
       <div class="column">
          <label style="text-align: center">
          <img src={{ static "product1.png" }} alt="Product 1" style="width:70%">
          <br>
          <input type="radio" name="selection" value="{{1}}" class="persist" >
          </label>
       </div>
       <div class="column">
          <label style="text-align: center">
          <img src={{ static "product2.png" }} alt="Product 2" style="width:70%">
          <br>
          <input type="radio" name="selection" value="{{2}}" class="persist" >
          </label>
       </div>
       <div class="column">
          <label style="text-align: center">
          <img src={{ static "product3.png" }} alt="Product 3" style="width:70%">
          <br>
          <input type="radio" name="selection" value="{{3}}" class="persist" >
          </label>
       </div>
    </div> {{ formfield_errors 'selection' }}
    <br>

    
    <br>
    <p>Please choose a product and click "next" after your choice to proceed. </p>
    <br>


{{ if player.round_number == C.CAT_ROUND and player.treatment == 1 or player.round_number == C.CAT_ROUND and player.treatment == 2 }}
    <div class="image-wrapper">
    <label style="text-align: center">
      <img src={{ static "animal_photo.png" }} alt="Animal" style="width:15%">
    </div>
    {{else}}{{endif}}
<br>
    
    {{ next_button }}
{{ endblock }}

{{block scripts}}

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        var total = 0;

        const check = setInterval(checkVisibility, 1000);
        function checkVisibility() {
          if (document.hidden) {
          } else {
            total = total + 1;
          }
          //you can send request to backend here for updating the database or backend variables
          liveSend({"information_type": "active_time", "value": total})
          console.log("total", total);
        }
      });
    </script>

{{endblock}}